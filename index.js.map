{"version":3,"file":"index.js","sources":["../src/services/api.js","../src/requests/products.js","../src/services/markupService.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\nconst apiInstance = axios.create({\n  baseURL: 'https://dummyjson.com',\n});\n\nexport default apiInstance;\n","import apiInstance from '../services/api';\n\n// ! ===================== 1 task\n\n// export async function getProducts() {\n//   try {\n//     const data = await apiInstance.get(`/products/`);\n//     return data.data;\n//   } catch (error) {\n//     console.log(error);\n//   }\n// }\n\nexport async function getProducts(page) {\n  try {\n    const data = await apiInstance.get(`/products/`, {\n      params: { limit: 100, skip: (page - 1) * 100 },\n    });\n    return data.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// ! ===================== 2 task\n\nexport async function getProductById(id) {\n  try {\n    const data = await apiInstance.get(`/products/${id}`);\n    return data.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// ! ===================== 3 task\n\nexport async function postProduct(product) {\n  try {\n    const data = await apiInstance.post(`/products/add`, product);\n    return data.data;\n  } catch (error) {}\n}\n\n// ! ===================== 4 task\n\nexport async function deleteProductById(id) {\n  try {\n    const data = await apiInstance.delete(`/products/${id}`);\n    return data.data;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n}\n","export function createMarkup(products) {\n  const markup = products\n    .map(({ title, description, category, price, thumbnail }) => {\n      return `<li>\n        <h3>${title}</h3>\n        <p>${description}</p>\n        <p>${category}</p>\n        <p>${price}</p>\n        <img src=\"${thumbnail}\" alt=\"${description}\">\n      </li>`;\n    })\n    .join('');\n  return markup;\n}\n\n// ! ===================== 2 task\n\nexport function createProductById({\n  id,\n  title,\n  description,\n  category,\n  price,\n  thumbnail,\n}) {\n  return `<li>\n        <h3>${title}</h3>\n        <p>${id}</p>\n        <p>${description}</p>\n        <p>${category}</p>\n        <p>${price}</p>\n        <img src=\"${thumbnail}\" alt=\"${description}\">\n      </li>`;\n}\n\n// ! ===================== 3 task\n\nexport function createNewProduct({ title, description, price }) {\n  return `<li>\n        <h3>${title}</h3>\n        <p>${price}</p>\n        <p>${description}</p>\n      </li>`;\n}\n\n// ! ===================== 4 task\n","import './styles/normalize.css';\nimport './styles/index.css';\nimport {\n  getProducts,\n  getProductById,\n  postProduct,\n  deleteProductById,\n} from './requests/products';\nimport {\n  createMarkup,\n  createProductById,\n  createNewProduct,\n} from './services/markupService';\n\nconst list = document.querySelector('#allProducts');\nconst btn = document.querySelector('#moreBtn');\n\nlet page = 1;\n\nbtn.addEventListener('click', async e => {\n  const data = await getProducts(page);\n  console.log(data);\n\n  list.insertAdjacentHTML('beforeend', createMarkup(data.products));\n  if (data.total < data.skip + data.limit) {\n    btn.style.display = 'none';\n  }\n  page += 1;\n});\n\n// ! ===================== 2 task\n\nconst formInput = document.querySelector('#singleProductForm');\nconst elem = document.querySelector('#singleProduct');\n\nformInput.addEventListener('submit', async e => {\n  e.preventDefault();\n  const id = e.target.elements.id.value.trim();\n  const data = await getProductById(id);\n  elem.insertAdjacentHTML('afterbegin', createProductById(data));\n});\n\n// ! ===================== 3 task\n\nconst formNewProduct = document.querySelector('#newProduct');\nconst newProductContainer = document.querySelector('#newProductSection');\n\nformNewProduct.addEventListener('submit', async e => {\n  e.preventDefault();\n  const title = e.target.elements.title.value.trim();\n  const description = e.target.elements.description.value.trim();\n  const price = e.target.elements.price.value.trim();\n\n  const product = {\n    title,\n    description,\n    price,\n  };\n\n  try {\n    const productObj = await postProduct(product);\n    newProductContainer.insertAdjacentHTML(\n      'afterbegin',\n      createNewProduct(productObj)\n    );\n    console.log(productObj);\n  } catch (error) {\n    newProductContainer.insertAdjacentHTML('afterbegin', error.message);\n  }\n});\n// ! ===================== 4 task\n\nconst formDeletedProduct = document.querySelector('#deletionProductForm');\n\nformDeletedProduct.addEventListener('submit', async e => {\n  e.preventDefault();\n  const id = e.target.elements.deletionId.value.trim();\n  try {\n    const data = await deleteProductById(id);\n    console.log(data);\n    alert('SUCCESS ');\n  } catch (error) {\n    alert(`ERROR ${error.message}`);\n  }\n});\n"],"names":["apiInstance","axios","getProducts","page","error","getProductById","id","postProduct","product","deleteProductById","createMarkup","products","title","description","category","price","thumbnail","createProductById","createNewProduct","list","btn","data","formInput","elem","formNewProduct","newProductContainer","productObj","formDeletedProduct"],"mappings":"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"}